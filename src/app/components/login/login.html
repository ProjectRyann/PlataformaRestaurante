<div class="login-container">
  <div class="login-box">
    <div class="login-header">
      <h1>ğŸ½ï¸ Sabor Criollo</h1>
      <p>Bienvenido a nuestro sistema</p>
    </div>

    <div class="error-message" *ngIf="mensajeError">
      <span>{{ mensajeError }}</span>
    </div>

    <!-- Tabs para cliente/admin -->
    <div class="tabs">
      <button 
        class="tab" 
        [class.active]="vistaActual === 'login-cliente'"
        (click)="cambiarVista('login-cliente')">
        ğŸ§‘â€ğŸ’¼ Cliente
      </button>
    </div>

    <!-- login para el cliente -->
    <div class="tab-content" *ngIf="vistaActual === 'login-cliente'">
      <div class="auth-buttons">
        <button class="btn-google" (click)="iniciarSesionGoogle()" [disabled]="cargando" aria-label="Iniciar sesiÃ³n con Google">
          <svg class="icon-google" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 533.5 544.3" aria-hidden="true">
            <path fill="#4285F4" d="M533.5 278.4c0-18.5-1.5-36.2-4.3-53.4H272v101h146.9c-6.3 34.1-25.1 62.9-53.6 82.3v68.3h86.6c50.7-46.7 81.6-115.6 81.6-198.2z"/>
            <path fill="#34A853" d="M272 544.3c72.6 0 133.6-23.9 178.1-64.9l-86.6-68.3c-24.1 16.2-55.1 25.8-91.5 25.8-70 0-129.4-47.3-150.6-111.1H32.1v69.9C75.2 481.9 167.4 544.3 272 544.3z"/>
            <path fill="#FBBC05" d="M121.4 324.8c-10.6-31.9-10.6-66.2 0-98.1V156.8H32.1c-44.6 89.3-44.6 194.8 0 284.1l89.3-69.9z"/>
            <path fill="#EA4335" d="M272 108.1c39.6-.6 77.6 14.5 106.6 41.9l80-80C405.4 19.1 341.2-1.9 272 0 167.4 0 75.2 62.4 32.1 156.8l89.3 69.9C142.6 155.4 202 108.1 272 108.1z"/>
          </svg>
          <span>Iniciar sesiÃ³n con Google</span>
        </button>
      </div>

      <div class="divider">O</div>

      <form #loginForm="ngForm" (ngSubmit)="loginClienteCorreo()" class="form-login">
        <div class="form-group">
          <label for="email-cliente">Correo</label>
          <input 
            type="email" 
            id="email-cliente"
            [(ngModel)]="loginModel.email"
            name="loginEmail"
            #loginEmail="ngModel"
            required
            email
            placeholder="tu@correo.com"
            class="form-control">
          <span class="error" *ngIf="loginEmail.invalid && loginEmail.touched">
            El correo es requerido y debe ser vÃ¡lido
          </span>
        </div>

        <div class="form-group">
          <label for="password-cliente">ContraseÃ±a</label>
          <input 
            [type]="mostrarPasswordCliente ? 'text' : 'password'" 
            id="password-cliente"
            [(ngModel)]="loginModel.contrasena"
            name="loginPassword"
            #loginPass="ngModel"
            required
            minlength="6"
            placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
            class="form-control">
          <button 
            type="button" 
            class="btn-toggle-password"
            (click)="mostrarPasswordCliente = !mostrarPasswordCliente">
            {{ mostrarPasswordCliente ? 'ğŸ‘ï¸â€ğŸ—¨ï¸' : 'ğŸ‘ï¸' }}
          </button>
          <span class="error" *ngIf="loginPass.invalid && loginPass.touched">
            La contraseÃ±a es requerida (mÃ­n. 6 caracteres)
          </span>
        </div>

        <button type="submit" class="btn-login" [disabled]="cargando || !loginForm.form.valid">
          {{ cargando ? 'ğŸ”„ Cargando...' : 'âœ“ Ingresar' }}
        </button>
      </form>

      <div class="toggle-form">
        <p>Â¿No tienes cuenta? 
          <a (click)="cambiarVista('registro-cliente')" class="link">RegÃ­strate aquÃ­</a>
        </p>
      </div>
    </div>

    <!-- REGISTRO CLIENTE -->
    <div class="tab-content" *ngIf="vistaActual === 'registro-cliente'">
      <form #regForm="ngForm" (ngSubmit)="registroClienteCorreo()" class="form-login">
        <div class="form-group">
          <label for="nombre">Nombre</label>
          <input 
            type="text" 
            id="nombre"
            [(ngModel)]="registerModel.nombre"
            name="regNombre"
            placeholder="Juan"
            class="form-control">
        </div>

        <div class="form-group">
          <label for="apellido">Apellido</label>
          <input 
            type="text" 
            id="apellido"
            [(ngModel)]="registerModel.apellido"
            name="regApellido"
            placeholder="PÃ©rez"
            class="form-control">
        </div>

        <div class="form-group">
          <label for="email-registro">Correo</label>
          <input 
            type="email" 
            id="email-registro"
            [(ngModel)]="registerModel.email"
            name="regEmail"
            #regEmail="ngModel"
            required
            email
            placeholder="tu@correo.com"
            class="form-control">
          <span class="error" *ngIf="regEmail.invalid && regEmail.touched">
            El correo es requerido y debe ser vÃ¡lido
          </span>
        </div>

        <div class="form-group">
          <label for="contraseÃ±a-registro">ContraseÃ±a</label>
          <input 
            [type]="mostrarPasswordRegistro ? 'text' : 'password'" 
            id="contraseÃ±a-registro"
            [(ngModel)]="registerModel.contrasena"
            name="regPassword"
            #regPass="ngModel"
            required
            minlength="6"
            placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
            class="form-control">
          <button 
            type="button" 
            class="btn-toggle-password"
            (click)="mostrarPasswordRegistro = !mostrarPasswordRegistro">
            {{ mostrarPasswordRegistro ? 'ğŸ‘ï¸â€ğŸ—¨ï¸' : 'ğŸ‘ï¸' }}
          </button>
          <span class="error" *ngIf="regPass.invalid && regPass.touched">
            La contraseÃ±a es requerida (mÃ­n. 6 caracteres)
          </span>
        </div>

        <button type="submit" class="btn-login" [disabled]="cargando || !regForm.form.valid">
          {{ cargando ? 'ğŸ”„ Cargando...' : 'âœ“ Registrarse' }}
        </button>
      </form>

      <div class="toggle-form">
        <p><a (click)="cambiarVista('login-cliente')" class="link">Volver al login</a></p>
      </div>
    </div>

  </div>
</div>
