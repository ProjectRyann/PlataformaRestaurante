<div class="login-container">
  <div class="login-box">
    <div class="login-header">
      <h1>ğŸ½ï¸ Sabor Criollo</h1>
      <p>Bienvenido a nuestro sistema</p>
    </div>

    <div class="error-message" *ngIf="mensajeError">
      <span>{{ mensajeError }}</span>
    </div>

    <!-- Tabs para cliente/admin -->
    <div class="tabs">
      <button 
        class="tab" 
        [class.active]="vistaActual === 'login-cliente'"
        (click)="cambiarVista('login-cliente')">
        ğŸ§‘â€ğŸ’¼ Cliente
      </button>
    </div>

    <!-- login para el cliente -->
    <div class="tab-content" *ngIf="vistaActual === 'login-cliente'">
      <div class="auth-buttons">
        <button class="btn-google" (click)="iniciarSesionGoogle()" [disabled]="cargando">
          <span>ğŸ”</span> Iniciar sesiÃ³n con Google
        </button>
      </div>

      <div class="divider">O</div>

      <form #loginForm="ngForm" (ngSubmit)="loginClienteCorreo()" class="form-login">
        <div class="form-group">
          <label for="email-cliente">Correo</label>
          <input 
            type="email" 
            id="email-cliente"
            [(ngModel)]="loginModel.email"
            name="loginEmail"
            #loginEmail="ngModel"
            required
            email
            placeholder="tu@correo.com"
            class="form-control">
          <span class="error" *ngIf="loginEmail.invalid && loginEmail.touched">
            El correo es requerido y debe ser vÃ¡lido
          </span>
        </div>

        <div class="form-group">
          <label for="password-cliente">ContraseÃ±a</label>
          <input 
            [type]="mostrarPasswordCliente ? 'text' : 'password'" 
            id="password-cliente"
            [(ngModel)]="loginModel.contrasena"
            name="loginPassword"
            #loginPass="ngModel"
            required
            minlength="6"
            placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
            class="form-control">
          <button 
            type="button" 
            class="btn-toggle-password"
            (click)="mostrarPasswordCliente = !mostrarPasswordCliente">
            {{ mostrarPasswordCliente ? 'ğŸ‘ï¸â€ğŸ—¨ï¸' : 'ğŸ‘ï¸' }}
          </button>
          <span class="error" *ngIf="loginPass.invalid && loginPass.touched">
            La contraseÃ±a es requerida (mÃ­n. 6 caracteres)
          </span>
        </div>

        <button type="submit" class="btn-login" [disabled]="cargando || !loginForm.form.valid">
          {{ cargando ? 'ğŸ”„ Cargando...' : 'âœ“ Ingresar' }}
        </button>
      </form>

      <div class="toggle-form">
        <p>Â¿No tienes cuenta? 
          <a (click)="cambiarVista('registro-cliente')" class="link">RegÃ­strate aquÃ­</a>
        </p>
      </div>
    </div>

    <!-- REGISTRO CLIENTE -->
    <div class="tab-content" *ngIf="vistaActual === 'registro-cliente'">
      <form #regForm="ngForm" (ngSubmit)="registroClienteCorreo()" class="form-login">
        <div class="form-group">
          <label for="nombre">Nombre</label>
          <input 
            type="text" 
            id="nombre"
            [(ngModel)]="registerModel.nombre"
            name="regNombre"
            placeholder="Juan"
            class="form-control">
        </div>

        <div class="form-group">
          <label for="apellido">Apellido</label>
          <input 
            type="text" 
            id="apellido"
            [(ngModel)]="registerModel.apellido"
            name="regApellido"
            placeholder="PÃ©rez"
            class="form-control">
        </div>

        <div class="form-group">
          <label for="email-registro">Correo</label>
          <input 
            type="email" 
            id="email-registro"
            [(ngModel)]="registerModel.email"
            name="regEmail"
            #regEmail="ngModel"
            required
            email
            placeholder="tu@correo.com"
            class="form-control">
          <span class="error" *ngIf="regEmail.invalid && regEmail.touched">
            El correo es requerido y debe ser vÃ¡lido
          </span>
        </div>

        <div class="form-group">
          <label for="contraseÃ±a-registro">ContraseÃ±a</label>
          <input 
            [type]="mostrarPasswordRegistro ? 'text' : 'password'" 
            id="contraseÃ±a-registro"
            [(ngModel)]="registerModel.contrasena"
            name="regPassword"
            #regPass="ngModel"
            required
            minlength="6"
            placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
            class="form-control">
          <button 
            type="button" 
            class="btn-toggle-password"
            (click)="mostrarPasswordRegistro = !mostrarPasswordRegistro">
            {{ mostrarPasswordRegistro ? 'ğŸ‘ï¸â€ğŸ—¨ï¸' : 'ğŸ‘ï¸' }}
          </button>
          <span class="error" *ngIf="regPass.invalid && regPass.touched">
            La contraseÃ±a es requerida (mÃ­n. 6 caracteres)
          </span>
        </div>

        <button type="submit" class="btn-login" [disabled]="cargando || !regForm.form.valid">
          {{ cargando ? 'ğŸ”„ Cargando...' : 'âœ“ Registrarse' }}
        </button>
      </form>

      <div class="toggle-form">
        <p><a (click)="cambiarVista('login-cliente')" class="link">Volver al login</a></p>
      </div>
    </div>

  </div>
</div>
